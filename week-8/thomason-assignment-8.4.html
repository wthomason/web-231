<!--
============================================
; Title:  thomason-assignment-8.4.html
; Author: William Thomason
; Date:   30 January 2019
; Modified by:
; Description: Putting it all together
;===========================================
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- you will need to the href to point to your root directories css file -->
  <link rel="stylesheet" href="../site.css">

  <style type="text/css">
    #employee tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>
<body>

<div id="emps"></div>


<script type="text/javascript">

//SET THE LIST VARIABLE
var list = ""

  //OBJECT CREATED AS A FUNCTION
  function Employee(id, firstName, lastName, title) {

  this.id = id;

  this.firstName = firstName;

  this.lastName = lastName;

  this.title = title;

  }


  var employee = [

  new Employee(1, "William", "Thomason", "CEO"),

  new Employee(2, "Matt", "Winterscheid", "Project manager"),

  new Employee(3, "Stephen", "Scott", "Developer"),

  new Employee(4, "Amber", "Thomason", "Designer"),

  new Employee(5, "Lilly", "Thomason", "Content Writer")

  ];

//getEmployee() that loops through array and alerts the data requested
  function getEmployee(id){

    employee.forEach(function(y){
        if(id == y.id){
          alert("Id: " + y.id + ", Name: " +y.firstName + " " + y.lastName + ", Title: " + y.title);
        }
    });

  }//END OF getEmployee() FUNCTION

//LOOP OVER TABLE ROW WITH EMPLOYEE DATA STORED INTO list VARIABLE
  employee.forEach(function(y){

    list += "<tr><td>" + y.id + "</td>" + "<td>" + y.firstName + "</td>"+ "<td>" + y.lastName + "</td>" + "<td>" + y.title + "</td></tr>";

  });

//VARIABLE WITH OUPUT TABLE AND HEADING
  output = "<h1>Employee List</h1>" +
      "<table class='tableHover'>" +
        "<thead>" +
        "<tr>" +
        "<th>Id</th><th>First Name</th><th>Last Name</th><th>Title</th>" +
        "</tr>" +
        "</thead>" +
        "<tbody>" +
        list +
        "</tbody>" +
        "</table>";

//PLACING THE OUTPUT INTO THE DIV WITH AN ID OF emps VIA getElementById
    document.getElementById("emps").innerHTML = output;

  // jQuery onClick event
  // Don't remove this, just add your code to the body of the event (curly braces)
  $(function () {
    $("table tr").click(function () {

      var id =  $(this).find('td:first').html()
      getEmployee(id);
    })
  });

</script>

</body>
</html>
